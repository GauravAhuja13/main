{"ast":null,"code":"var _jsxFileName = \"/home/happy/Downloads/main-main/src/pages/Contacts/ContactList/contacts-list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport { isEmpty } from \"lodash\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport TableContainer from \"../../../components/Common/TableContainer\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\"; //import components\n\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\";\nimport { getUsers as onGetUsers, addNewUser as onAddNewUser, updateUser as onUpdateUser, deleteUser as onDeleteUser } from \"../../../store/actions\";\nimport { Position, Email, Name } from \"./ContactListCol\"; //redux\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Col, Row, UncontrolledTooltip, Modal, ModalHeader, ModalBody, Form, Input, FormFeedback, Label, Card, CardBody, DropdownToggle, UncontrolledDropdown, DropdownMenu, DropdownItem } from \"reactstrap\";\nimport DeleteModal from \"../../../components/Common/DeleteModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DatatableTables() {\n  _s();\n\n  const [modal, setModal] = useState(false); // const [modal1, setModal1] = useState(false);\n\n  const [isEdit, setIsEdit] = useState(false);\n  const [userList, setUserList] = useState([]);\n  const [user, setUser] = useState([]); // validation\n\n  const validation = useFormik({\n    // enableReinitialize : use this flag when initial values needs to be changed\n    enableReinitialize: true,\n    initialValues: {\n      name: user && user.name || \"\",\n      designation: user && user.designation || \"\",\n      email: user && user.email || \"\"\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Please Enter Your Billing Name\"),\n      designation: Yup.string().required(\"Please Enter Your Order Date\"),\n      email: Yup.string().required(\"Total email\")\n    }),\n    onSubmit: values => {\n      if (isEdit) {\n        const updateUser = {\n          id: user ? user.id : 0,\n          name: values.name,\n          designation: values.designation,\n          email: values.email\n        }; // update user\n\n        dispatch(onUpdateUser(updateUser));\n        validation.resetForm();\n      } else {\n        const newUser = {\n          id: Math.floor(Math.random() * (30 - 20)) + 20,\n          name: values[\"name\"],\n          designation: values[\"designation\"],\n          email: values[\"email\"]\n        }; // save new user\n\n        dispatch(onAddNewUser(newUser));\n        validation.resetForm();\n      }\n\n      toggle();\n    }\n  }); // const toggleViewModal = () => setModal1(!modal1);\n\n  const dispatch = useDispatch();\n  const {\n    users\n  } = useSelector(state => ({\n    users: state.contacts.users\n  }));\n  useEffect(() => {\n    if (users && !users.length) {\n      dispatch(onGetUsers());\n    }\n  }, [dispatch, users]);\n  useEffect(() => {\n    if (users && !users.length) {\n      dispatch(onGetUsers());\n    }\n  }, [dispatch, users]);\n  useEffect(() => {\n    setUserList(users);\n  }, [users]);\n  useEffect(() => {\n    if (!isEmpty(users) && !!isEdit) {\n      setUserList(users);\n      setIsEdit(false);\n    }\n  }, [users]);\n\n  const toggle = () => {\n    if (modal) {\n      setModal(false);\n      setUser(null);\n    } else {\n      setModal(true);\n    }\n  };\n\n  const handleUserClick = arg => {\n    const user = arg;\n    setUser({\n      id: user.id,\n      name: user.name,\n      designation: user.designation,\n      email: user.email\n    });\n    setIsEdit(true);\n    toggle();\n  }; //delete user\n\n\n  const [deleteModal, setDeleteModal] = useState(false);\n\n  const onClickDelete = user => {\n    setUser(user);\n    setDeleteModal(true);\n  };\n\n  const handleDeleteUser = () => {\n    if (user.id) {\n      dispatch(onDeleteUser(user));\n      setDeleteModal(false);\n    }\n  };\n\n  const handleUserClicks = () => {\n    setUserList(\"\");\n    setIsEdit(false);\n    toggle();\n  };\n\n  const columns = useMemo(() => [{\n    Header: \"Id\",\n    accessor: \"checkbox\",\n    disableFilters: true,\n    filterable: false,\n    Cell: cellProps => {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        className: \"selection-input-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 18\n      }, this);\n    }\n  }, {\n    Header: \"Name\",\n    // accessor: \"name\",\n    filterable: true,\n    accessor: cellProps => /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [!cellProps.img ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar-xs d-inline-block me-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar-title bg-soft-primary rounded-circle text-primary\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"mdi mdi-account-circle m-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"avatar-xs rounded-circle me-2\",\n        src: cellProps.img,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"#\",\n        className: \"text-body\",\n        children: cellProps.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }, this)\n  }, {\n    Header: \"Position\",\n    accessor: \"designation\",\n    filterable: true,\n    Cell: cellProps => {\n      return /*#__PURE__*/_jsxDEV(Position, { ...cellProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 18\n      }, this);\n    }\n  }, {\n    Header: \"Email\",\n    accessor: \"email\",\n    filterable: true,\n    Cell: cellProps => {\n      return /*#__PURE__*/_jsxDEV(Email, { ...cellProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 18\n      }, this);\n    }\n  }, {\n    Header: \"Action\",\n    accessor: \"action\",\n    disableFilters: true,\n    Cell: cellProps => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex gap-3 users\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-inline font-size-20 contact-links mb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-inline-item\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"#\",\n              className: \"text-primary\",\n              onClick: () => {\n                const users = cellProps.row.original;\n                handleUserClick(users);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"uil uil-pen font-size-18\",\n                id: \"edittooltip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(UncontrolledTooltip, {\n                placement: \"top\",\n                target: \"edittooltip\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-inline-item\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"#\",\n              className: \"text-danger\",\n              onClick: () => {\n                const users = cellProps.row.original;\n                onClickDelete(users);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"uil uil-trash-alt font-size-18\",\n                id: \"deletetooltip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(UncontrolledTooltip, {\n                placement: \"top\",\n                target: \"deletetooltip\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-inline-item dropdown\",\n            children: /*#__PURE__*/_jsxDEV(UncontrolledDropdown, {\n              children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n                tag: \"a\",\n                className: \"text-muted font-size-18 px-2\",\n                caret: true,\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"uil uil-ellipsis-v\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n                className: \"dropdown-menu-end\",\n                children: [/*#__PURE__*/_jsxDEV(DropdownItem, {\n                  href: \"#\",\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                  href: \"#\",\n                  children: \"Another action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                  href: \"#\",\n                  children: \"Something else here\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }, this);\n    }\n  }], []);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DeleteModal, {\n      show: deleteModal,\n      onDeleteClick: handleDeleteUser,\n      onCloseClick: () => setDeleteModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n          title: \"Contacts\",\n          breadcrumbItem: \"User List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: \"12\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                children: /*#__PURE__*/_jsxDEV(TableContainer, {\n                  columns: columns,\n                  data: users,\n                  isGlobalFilter: true,\n                  isAddUsers: true,\n                  isAddTableWithoutBorderStrap: true,\n                  handleUserClicks: handleUserClicks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: modal,\n          toggle: toggle,\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            toggle: toggle,\n            tag: \"h4\",\n            children: !!isEdit ? \"Edit User\" : \"Add Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: e => {\n                e.preventDefault();\n                validation.handleSubmit();\n                return false;\n              },\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                form: true,\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  className: \"col-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"form-label\",\n                      children: \"Position\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      name: \"designation\",\n                      type: \"designation\",\n                      onChange: validation.handleChange,\n                      onBlur: validation.handleBlur,\n                      value: validation.values.designation || \"\",\n                      invalid: validation.touched.designation && validation.errors.designation ? true : false\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 23\n                    }, this), validation.touched.designation && validation.errors.designation ? /*#__PURE__*/_jsxDEV(FormFeedback, {\n                      type: \"invalid\",\n                      children: validation.errors.designation\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 25\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"form-label\",\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      name: \"name\",\n                      type: \"text\",\n                      validate: {\n                        required: {\n                          value: true\n                        }\n                      },\n                      onChange: validation.handleChange,\n                      onBlur: validation.handleBlur,\n                      value: validation.values.name || \"\",\n                      invalid: validation.touched.name && validation.errors.name ? true : false\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 23\n                    }, this), validation.touched.name && validation.errors.name ? /*#__PURE__*/_jsxDEV(FormFeedback, {\n                      type: \"invalid\",\n                      children: validation.errors.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 25\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"form-label\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      name: \"email\",\n                      type: \"text\",\n                      onChange: validation.handleChange,\n                      onBlur: validation.handleBlur,\n                      value: validation.values.email || \"\",\n                      invalid: validation.touched.email && validation.errors.email ? true : false\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 23\n                    }, this), validation.touched.email && validation.errors.email ? /*#__PURE__*/_jsxDEV(FormFeedback, {\n                      type: \"invalid\",\n                      children: validation.errors.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 25\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-end\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"btn btn-success save-user\",\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DatatableTables, \"ItDOZe640Lyd8Q13Be1IXTMnb9o=\", false, function () {\n  return [useFormik, useDispatch, useSelector];\n});\n\n_c = DatatableTables;\nDatatableTables.propTypes = {\n  preGlobalFilteredRows: PropTypes.any\n};\nexport default DatatableTables;\n\nvar _c;\n\n$RefreshReg$(_c, \"DatatableTables\");","map":{"version":3,"sources":["/home/happy/Downloads/main-main/src/pages/Contacts/ContactList/contacts-list.js"],"names":["React","useEffect","useMemo","useState","PropTypes","Link","isEmpty","TableContainer","Yup","useFormik","Breadcrumbs","getUsers","onGetUsers","addNewUser","onAddNewUser","updateUser","onUpdateUser","deleteUser","onDeleteUser","Position","Email","Name","useSelector","useDispatch","Col","Row","UncontrolledTooltip","Modal","ModalHeader","ModalBody","Form","Input","FormFeedback","Label","Card","CardBody","DropdownToggle","UncontrolledDropdown","DropdownMenu","DropdownItem","DeleteModal","DatatableTables","modal","setModal","isEdit","setIsEdit","userList","setUserList","user","setUser","validation","enableReinitialize","initialValues","name","designation","email","validationSchema","object","string","required","onSubmit","values","id","dispatch","resetForm","newUser","Math","floor","random","toggle","users","state","contacts","length","handleUserClick","arg","deleteModal","setDeleteModal","onClickDelete","handleDeleteUser","handleUserClicks","columns","Header","accessor","disableFilters","filterable","Cell","cellProps","img","row","original","e","preventDefault","handleSubmit","handleChange","handleBlur","touched","errors","value","propTypes","preGlobalFilteredRows","any"],"mappings":"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","sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Link } from \"react-router-dom\"\nimport { isEmpty } from \"lodash\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport TableContainer from \"../../../components/Common/TableContainer\"\nimport * as Yup from \"yup\"\nimport { useFormik } from \"formik\"\n\n//import components\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"\n\nimport {\n  getUsers as onGetUsers,\n  addNewUser as onAddNewUser,\n  updateUser as onUpdateUser,\n  deleteUser as onDeleteUser,\n} from \"../../../store/actions\"\n\nimport { Position, Email, Name} from \"./ContactListCol\"\n\n//redux\nimport { useSelector, useDispatch } from \"react-redux\"\n\nimport {\n  Col,\n  Row,\n  UncontrolledTooltip,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  Form,\n  Input,\n  FormFeedback,\n  Label,\n  Card,\n  CardBody,\n  DropdownToggle,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownItem,\n} from \"reactstrap\"\nimport DeleteModal from \"../../../components/Common/DeleteModal\"\n\nfunction DatatableTables() {\n  const [modal, setModal] = useState(false)\n  // const [modal1, setModal1] = useState(false);\n  const [isEdit, setIsEdit] = useState(false)\n\n  const [userList, setUserList] = useState([])\n  const [user, setUser] = useState([])\n\n  // validation\n  const validation = useFormik({\n    // enableReinitialize : use this flag when initial values needs to be changed\n    enableReinitialize: true,\n\n    initialValues: {\n      name: (user && user.name) || \"\",\n      designation: (user && user.designation) || \"\",\n      email: (user && user.email) || \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Please Enter Your Billing Name\"),\n      designation: Yup.string().required(\"Please Enter Your Order Date\"),\n      email: Yup.string().required(\"Total email\"),\n    }),\n    onSubmit: values => {\n      if (isEdit) {\n        const updateUser = {\n          id: user ? user.id : 0,\n          name: values.name,\n          designation: values.designation,\n          email: values.email,\n        }\n\n        // update user\n        dispatch(onUpdateUser(updateUser))\n        validation.resetForm()\n      } else {\n        const newUser = {\n          id: Math.floor(Math.random() * (30 - 20)) + 20,\n          name: values[\"name\"],\n          designation: values[\"designation\"],\n          email: values[\"email\"],\n        }\n\n        // save new user\n        dispatch(onAddNewUser(newUser))\n        validation.resetForm()\n      }\n      toggle()\n    },\n  })\n\n  // const toggleViewModal = () => setModal1(!modal1);\n\n  const dispatch = useDispatch()\n  const { users } = useSelector(state => ({\n    users: state.contacts.users,\n  }))\n\n  useEffect(() => {\n    if (users && !users.length) {\n      dispatch(onGetUsers())\n    }\n  }, [dispatch, users])\n\n  useEffect(() => {\n    if (users && !users.length) {\n      dispatch(onGetUsers())\n    }\n  }, [dispatch, users])\n\n  useEffect(() => {\n    setUserList(users)\n  }, [users])\n\n  useEffect(() => {\n    if (!isEmpty(users) && !!isEdit) {\n      setUserList(users)\n      setIsEdit(false)\n    }\n  }, [users])\n\n  const toggle = () => {\n    if (modal) {\n      setModal(false)\n      setUser(null)\n    } else {\n      setModal(true)\n    }\n  }\n\n  const handleUserClick = arg => {\n    const user = arg\n    setUser({\n      id: user.id,\n      name: user.name,\n      designation: user.designation,\n      email: user.email,\n    })\n\n    setIsEdit(true)\n\n    toggle()\n  }\n\n  //delete user\n  const [deleteModal, setDeleteModal] = useState(false)\n\n  const onClickDelete = user => {\n    setUser(user)\n    setDeleteModal(true)\n  }\n\n  const handleDeleteUser = () => {\n    if (user.id) {\n      dispatch(onDeleteUser(user))\n      setDeleteModal(false)\n    }\n  }\n  const handleUserClicks = () => {\n    setUserList(\"\")\n    setIsEdit(false)\n    toggle()\n  }\n\n  const columns = useMemo(\n    () => [\n      {\n        Header: \"Id\",\n        accessor: \"checkbox\",\n        disableFilters: true,\n        filterable: false,\n        Cell: cellProps => {\n          return <input type=\"checkbox\" className=\"selection-input-4\" />\n        },\n      },\n      {\n        Header: \"Name\",\n        // accessor: \"name\",\n        filterable: true,\n        accessor: cellProps => (\n          <React.Fragment>\n            {!cellProps.img ? (\n              <div className=\"avatar-xs d-inline-block me-2\">\n                <div className=\"avatar-title bg-soft-primary rounded-circle text-primary\">\n                  <i className=\"mdi mdi-account-circle m-0\"></i>\n                </div>\n              </div>\n            ) : (\n              <img\n                className=\"avatar-xs rounded-circle me-2\"\n                src={cellProps.img}\n                alt=\"\"\n              />\n            )}\n            <Link to=\"#\" className=\"text-body\">\n              {cellProps.name}\n            </Link>\n          </React.Fragment>\n        ),\n      },\n      {\n        Header: \"Position\",\n        accessor: \"designation\",\n        filterable: true,\n        Cell: cellProps => {\n          return <Position {...cellProps} />\n        },\n      },\n      {\n        Header: \"Email\",\n        accessor: \"email\",\n        filterable: true,\n        Cell: cellProps => {\n          return <Email {...cellProps} />\n        },\n      },\n      {\n        Header: \"Action\",\n        accessor: \"action\",\n        disableFilters: true,\n        Cell: cellProps => {\n          return (\n            <div className=\"d-flex gap-3 users\">\n              <ul className=\"list-inline font-size-20 contact-links mb-0\">\n                <li className=\"list-inline-item\">\n                  <Link\n                    to=\"#\"\n                    className=\"text-primary\"\n                    onClick={() => {\n                      const users = cellProps.row.original\n                      handleUserClick(users)\n                    }}\n                  >\n                    <i className=\"uil uil-pen font-size-18\" id=\"edittooltip\" />\n                    <UncontrolledTooltip placement=\"top\" target=\"edittooltip\">\n                      Edit\n                    </UncontrolledTooltip>\n                  </Link>\n                </li>\n                <li className=\"list-inline-item\">\n                  <Link\n                    to=\"#\"\n                    className=\"text-danger\"\n                    onClick={() => {\n                      const users = cellProps.row.original\n                      onClickDelete(users)\n                    }}\n                  >\n                    <i\n                      className=\"uil uil-trash-alt font-size-18\"\n                      id=\"deletetooltip\"\n                    />\n                    <UncontrolledTooltip placement=\"top\" target=\"deletetooltip\">\n                      Delete\n                    </UncontrolledTooltip>\n                  </Link>\n                </li>\n                <li className=\"list-inline-item dropdown\">\n                  <UncontrolledDropdown>\n                    <DropdownToggle\n                      tag=\"a\"\n                      className=\"text-muted font-size-18 px-2\"\n                      caret\n                    >\n                      <i className=\"uil uil-ellipsis-v\"></i>\n                    </DropdownToggle>\n                    <DropdownMenu className=\"dropdown-menu-end\">\n                      <DropdownItem href=\"#\">Action</DropdownItem>\n                      <DropdownItem href=\"#\">Another action</DropdownItem>\n                      <DropdownItem href=\"#\">Something else here</DropdownItem>\n                    </DropdownMenu>\n                  </UncontrolledDropdown>\n                </li>\n              </ul>\n            </div>\n          )\n        },\n      },\n    ],\n    []\n  )\n\n  return (\n    <React.Fragment>\n      <DeleteModal\n        show={deleteModal}\n        onDeleteClick={handleDeleteUser}\n        onCloseClick={() => setDeleteModal(false)}\n      />\n      <div className=\"page-content\">\n        <div className=\"container-fluid\">\n          <Breadcrumbs title=\"Contacts\" breadcrumbItem=\"User List\" />\n          <Row>\n            <Col xs=\"12\">\n              <Card>\n                <CardBody>\n                  <TableContainer\n                    columns={columns}\n                    data={users}\n                    isGlobalFilter={true}\n                    isAddUsers={true}\n                    isAddTableWithoutBorderStrap={true}\n                    handleUserClicks={handleUserClicks}\n                  />\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n          <Modal isOpen={modal} toggle={toggle}>\n            <ModalHeader toggle={toggle} tag=\"h4\">\n              {!!isEdit ? \"Edit User\" : \"Add Users\"}\n            </ModalHeader>\n            <ModalBody>\n              <Form\n                onSubmit={e => {\n                  e.preventDefault()\n                  validation.handleSubmit()\n                  return false\n                }}\n              >\n                <Row form>\n                  <Col className=\"col-12\">\n                    <div className=\"mb-3\">\n                      <Label className=\"form-label\">Position</Label>\n                      <Input\n                        name=\"designation\"\n                        type=\"designation\"\n                        onChange={validation.handleChange}\n                        onBlur={validation.handleBlur}\n                        value={validation.values.designation || \"\"}\n                        invalid={\n                          validation.touched.designation &&\n                          validation.errors.designation\n                            ? true\n                            : false\n                        }\n                      />\n                      {validation.touched.designation &&\n                      validation.errors.designation ? (\n                        <FormFeedback type=\"invalid\">\n                          {validation.errors.designation}\n                        </FormFeedback>\n                      ) : null}\n                    </div>\n                    <div className=\"mb-3\">\n                      <Label className=\"form-label\">Name</Label>\n                      <Input\n                        name=\"name\"\n                        type=\"text\"\n                        validate={{\n                          required: { value: true },\n                        }}\n                        onChange={validation.handleChange}\n                        onBlur={validation.handleBlur}\n                        value={validation.values.name || \"\"}\n                        invalid={\n                          validation.touched.name && validation.errors.name\n                            ? true\n                            : false\n                        }\n                      />\n                      {validation.touched.name && validation.errors.name ? (\n                        <FormFeedback type=\"invalid\">\n                          {validation.errors.name}\n                        </FormFeedback>\n                      ) : null}\n                    </div>\n                    <div className=\"mb-3\">\n                      <Label className=\"form-label\">Email</Label>\n                      <Input\n                        name=\"email\"\n                        type=\"text\"\n                        onChange={validation.handleChange}\n                        onBlur={validation.handleBlur}\n                        value={validation.values.email || \"\"}\n                        invalid={\n                          validation.touched.email && validation.errors.email\n                            ? true\n                            : false\n                        }\n                      />\n                      {validation.touched.email && validation.errors.email ? (\n                        <FormFeedback type=\"invalid\">\n                          {validation.errors.email}\n                        </FormFeedback>\n                      ) : null}\n                    </div>\n                  </Col>\n                </Row>\n                <Row>\n                  <Col>\n                    <div className=\"text-end\">\n                      <button\n                        type=\"submit\"\n                        className=\"btn btn-success save-user\"\n                      >\n                        Save\n                      </button>\n                    </div>\n                  </Col>\n                </Row>\n              </Form>\n            </ModalBody>\n          </Modal>\n        </div>\n      </div>\n    </React.Fragment>\n  )\n}\nDatatableTables.propTypes = {\n  preGlobalFilteredRows: PropTypes.any,\n}\n\nexport default DatatableTables\n"]},"metadata":{},"sourceType":"module"}